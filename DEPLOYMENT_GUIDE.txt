E-QUEUE SYSTEM DEPLOYMENT GUIDE (STEP-BY-STEP)
==============================================

This guide outlines the steps required to move the E-Queue system from your local XAMPP environment to a live production server.

PART 1: SERVER REQUIREMENTS
---------------------------
1. Web Server: Apache (with mod_rewrite enabled) or Nginx.
2. PHP: Version 7.4 or higher (8.1+ recommended).
3. MySQL/MariaDB Server.
4. Python 3.8+ (for Sentiment Analysis server).
5. SSL Certificate (HTTPS is REQUIRED for browser notifications).

PART 2: DATABASE MIGRATION
--------------------------
1. Open phpMyAdmin on your local XAMPP (http://localhost/phpmyadmin).
2. Select the 'equeue_system' database.
3. Click the 'Export' tab and save the .sql file.
4. On your live server, create a new empty database (e.g., 'equeue_live').
5. Import the .sql file you exported.

PART 3: FILE UPLOAD & PERMISSIONS
---------------------------------
1. Upload all files from your local 'equeue-system' folder to your server's web root (usually 'public_html' or similar).
2. Ensure the following directories are writable by the server:
   - /logs
   - /config (if you plan to edit .env via a web interface)

PART 4: CORE CONFIGURATION (PHP)
--------------------------------
1. Locate 'config/config.php' on your live server.
2. Change the BASE_URL to your live domain:
   Example: define('BASE_URL', 'https://yourdomain.com/public');
3. Update database credentials:
   - DB_HOST (usually 'localhost')
   - DB_USER (your live database username)
   - DB_PASS (your live database password)
   - DB_NAME (your live database name)
4. Ensure 'loadEnv(__DIR__ . "/../.env");' is present at the top.

PART 5: ENVIRONMENT FILE (.env)
-------------------------------
1. Create or update the '.env' file in your root folder.
2. Update the following values for production:
   - MAIL_HOST, MAIL_PORT, MAIL_USERNAME, MAIL_PASSWORD (Use your production SMTP details).
   - OPENROUTER_API_KEY (Your live API key).
   - AI_MODEL (The model you wish to use).
   - AI_URL (The URL where your Python sentiment server is hosted).

PART 6: SENTIMENT ANALYSIS SERVER (PYTHON)
------------------------------------------
1. Navigate to the 'sentiment_analysis' folder on your server.
2. Create a virtual environment:
   python -m venv venv
3. Activate the virtual environment:
   Windows: .\venv\Scripts\activate
   Linux/Mac: source venv/bin/activate
4. Install dependencies:
   pip install -r requirements.txt
5. Run the server using uvicorn (or a process manager like PM2 or Systemd):
   uvicorn app:app --host 0.0.0.0 --port 8000
6. Ensure your server firewall allows traffic on port 8000 (or whichever port you choose).

PART 7: FINAL CHECKS
--------------------
1. Visit your site via HTTPS.
2. Log in as an administrator to verify database connectivity.
3. Test a ticket creation to ensure email and toast notifications trigger.
4. Check the PHP error logs if any blank pages appear.

==============================================
Support: Contact your system administrator for DNS and Hosting specific settings.
